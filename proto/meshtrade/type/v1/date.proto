syntax = "proto3";

package meshtrade.type.v1;

option go_package = "github.com/meshtrade/api/go/type/v1;typev1";

// Represents a whole or partial calendar date, such as a birthday. The time of
// day and time zone are either specified elsewhere or are insignificant. The
// date is relative to the Gregorian Calendar. This can represent one of the
// following:
//
// * A full date, with non-zero year, month, and day values (e.g., 2023-12-25)
// * A month and day value, with a zero year, such as an anniversary (e.g., --12-25)
// * A year on its own, with zero month and day values (e.g., 2023)
// * A year and month value, with a zero day, such as a credit card expiration
//   date (e.g., 2023-12)
//
// Validation Rules:
// * Year: 0 or 1-9999 (0 for partial dates)
// * Month: 0 or 1-12 (0 for partial dates)
// * Day: 0 or 1-31 (0 for partial dates, must be valid for the given month/year)
// * Partial date constraints:
//   - Month cannot be specified without year (year=0, month!=0, day=0 is invalid)
//   - Day cannot be specified without month (month=0, day!=0 is invalid)
//   - Complete dates must be valid calendar dates (respects leap years, month lengths)
//
// Examples:
// * Full date: year=2023, month=12, day=25 → "2023-12-25"
// * Year only: year=2023, month=0, day=0 → "2023"
// * Year-month: year=2023, month=12, day=0 → "2023-12"
// * Month-day: year=0, month=12, day=25 → "--12-25"
//
// Related types are [meshtrade.type.v1.TimeOfDay][meshtrade.type.v1.TimeOfDay] and
// `google.protobuf.Timestamp`.
message Date {
  // Year of the date. Must be from 1 to 9999, or 0 to specify a date without
  // a year. When 0, represents a partial date where the year is unspecified.
  int32 year = 1;

  // Month of a year. Must be from 1 to 12, or 0 to specify a year without a
  // month and day. Cannot be non-zero when year is 0 (partial date constraint).
  int32 month = 2;

  // Day of a month. Must be from 1 to 31 and valid for the year and month, or 0
  // to specify a year by itself or a year and month where the day isn't significant.
  // Cannot be non-zero when month is 0 (partial date constraint).
  // For complete dates (year, month, day all non-zero), must be a valid calendar date.
  int32 day = 3;
}
