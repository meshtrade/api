syntax = "proto3";

package meshtrade.reporting.account_report.v1;

import "meshtrade/type/v1/token.proto";
import "meshtrade/type/v1/amount.proto";
import "google/protobuf/timestamp.proto";

option go_package = "github.com/meshtrade/api/go/reporting/account_report/v1;account_reportv1";
option java_package = "co.meshtrade.api.reporting.account_report.v1";

/*
   IncomeEntry represents a single income line item in an account report.

   Each entry captures a dated transaction or earning event related to a specific asset
   and token. It includes contextual metadata (description and narrative), the original
   amount, and its equivalent value in the report's specified reporting currency.
*/
message IncomeEntry {
  /*
     Human-readable name of the asset associated with this entry.
     Used for display and identification purposes.
  */
  string asset_name = 1;

  /*
     Token representing the currency or asset in which the original amount is denominated.
  */
  meshtrade.type.v1.Token token = 2;

  /*
     Timestamp representing the date the income event occurred or was recorded.
  */
  google.protobuf.Timestamp date = 3;

  /*
     Short description or label for the entry (e.g. "Interest", "Trading Fees").
     Intended to summarize the nature of the transaction.
  */
  string description = 4;

  /*
     Extended narrative or context for the income entry, often including
     source details or explanatory information.
  */
  meshtrade.reporting.account_report.v1.IncomeNarrative narrative = 5;

  /*
     Original income amount in the native token specified.
  */
  meshtrade.type.v1.Amount amount = 6;

  /*
     Equivalent value of the income in the reporting currency,
     as defined by the report context.
  */
  meshtrade.type.v1.Amount reported_currency_value = 7;
}

enum IncomeNarrative {
  /*
     Default unspecified narrative type.
     Used when the narrative category is unknown or not applicable.
  */
  INCOME_NARRATIVE_UNSPECIFIED = 0;

  /*
     Indicates income derived from yield-generating activities,
     such as staking, lending, or liquidity provision.
  */
  INCOME_NARRATIVE_YIELD = 1;

  /*
     Indicates income received from bond coupon or
     similar fixed-income instruments.
  */
  INCOME_NARRATIVE_COUPON = 2;
}
