# TypeScript code generation configuration
# buf.gen.typescript.yaml
version: v2

plugins:
  - remote: buf.build/bufbuild/es:v2.9.0
    out: ./ts/src
    include_imports: true
    opt:
      # Generate TypeScript source files
      - target=ts
      # Use extensionless imports (for "module": "CommonJS" in tsconfig)
      - import_extension=none

  - local: [ "node", "./tool/protoc-gen-meshts/cmd/dist/index.js" ]
    out: ./ts/src
    strategy: all
