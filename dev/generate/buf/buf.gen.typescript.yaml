# TypeScript code generation configuration
version: v2

plugins:
  - remote: buf.build/protocolbuffers/js:v3.21.4
    out: ./ts/src
    opt:
      - import_style=commonjs,binary
  - remote: buf.build/grpc/web:v1.5.0
    out: ./ts/src
    opt:
      - import_style=commonjs+dts
      - mode=grpcweb
  - local: ["node", "./tool/protoc-gen-meshts/cmd/dist/index.js"]
    out: ./ts/src
    strategy: all