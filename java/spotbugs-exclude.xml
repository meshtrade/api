<?xml version="1.0" encoding="UTF-8"?>
<!--
    SpotBugs exclusion configuration for Mesh API Java SDK

    This file defines patterns for excluding code from SpotBugs analysis.
    Generated protobuf code is excluded as it's not maintained manually.

    See: https://spotbugs.readthedocs.io/en/latest/filter.html
-->
<FindBugsFilter
    xmlns="https://github.com/spotbugs/filter/3.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="https://github.com/spotbugs/filter/3.0.0 https://raw.githubusercontent.com/spotbugs/spotbugs/3.1.0/spotbugs/etc/findbugsfilter.xsd">

    <!-- Exclude all generated protobuf code -->
    <Match>
        <Class name="~.*Grpc.*"/>
    </Match>

    <Match>
        <Class name="~.*OuterClass.*"/>
    </Match>

    <Match>
        <Class name="~.*Proto"/>
    </Match>

    <Match>
        <Class name="~.*\.grpc\..*Stub.*"/>
    </Match>

    <!-- Exclude generated protobuf builders (internal implementations) -->
    <Match>
        <Class name="~.*\$Builder"/>
        <Source name="~.*OuterClass\.java"/>
    </Match>

    <!-- Allow serialization without serialVersionUID in protobuf messages -->
    <Match>
        <Class name="~.*OuterClass\$.*"/>
        <Bug pattern="SE_NO_SERIALVERSIONID"/>
    </Match>

    <!-- Test classes can have relaxed rules -->
    <Match>
        <Source name="~.*Test\.java"/>
        <Bug pattern="DM_NUMBER_CTOR"/>
    </Match>

    <!-- Allow intentional null returns in test utilities -->
    <Match>
        <Source name="~.*Test\.java"/>
        <Bug pattern="PZLA_PREFER_ZERO_LENGTH_ARRAYS"/>
    </Match>

    <!-- Records (Java 17+) don't need explicit equals/hashCode -->
    <Match>
        <Class name="~.*\$.*Parts"/>
        <Bug pattern="HE_EQUALS_NO_HASHCODE"/>
    </Match>

</FindBugsFilter>
